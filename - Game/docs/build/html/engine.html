
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Engine Components &#8212; ExsanguinatorRL 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Components" href="components.html" />
    <link rel="prev" title="Tutorial" href="tutorial.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-entity">
<span id="engine-components"></span><span id="engine"></span><h1>Engine Components<a class="headerlink" href="#module-entity" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="entity.Entity">
<em class="property">class </em><code class="descclassname">entity.</code><code class="descname">Entity</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>char</em>, <em>colour</em>, <em>name</em>, <em>blocks=False</em>, <em>fighter=None</em>, <em>ai=None</em>, <em>render_order=&lt;RenderOrder.corpse: 1&gt;</em>, <em>item=None</em>, <em>inventory=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/entity.html#Entity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#entity.Entity" title="Permalink to this definition">¶</a></dt>
<dd><p>“A comprehensive object to represent any entity in the game.</p>
<p>An entity is the main construct for things like monsters NPCs and items.
This class provides all the options needed for a well functioning entity
and is used for every entity in the game.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> (<em>int</em>) – Starting x coordinate of the entity.</li>
<li><strong>y</strong> (<em>int</em>) – Starting y coordinate of the entity.</li>
<li><strong>char</strong> (<em>char</em>) – Character (think !, ?, &#64;, etc.) that represents this entity on the screen.</li>
<li><strong>colour</strong> (<em>tcod.Color</em>) – Render colour of the the entity’s character.</li>
<li><strong>name</strong> (<em>str</em>) – Name of the entity.</li>
<li><strong>blocks</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether the player is able to walk through the entity or not.
Defaults to False. (Meaning the player can walk through.)</li>
<li><strong>fighter</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Fighter</span></code>, optional) – Describes the stats used for fighting such as health, strength and defense.
Also describes the available actions, such as different attacks.
Defaults to None.</li>
<li><strong>ai</strong> (<em>Class</em><em>, </em><em>optional</em>) – A class that houses the AI logic of the entity. This class is required
to have a <cite>take_turn()</cite> method.
Defaults to None.</li>
<li><strong>render_order</strong> (<em>int</em><em>, </em><em>optional</em>) – Describes the order in which to render object (lowest first). Idiomatically
used in conjunction with a <cite>RenderOrder</cite> class.
Defaults to <cite>RenderOrder.corpse</cite></li>
<li><strong>item</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Item</span></code>, optional) – An Item object.
Defaults to None</li>
<li><strong>inventory</strong> (: <code class="xref py py-obj docutils literal notranslate"><span class="pre">Inventory</span></code>, optional) – The inventory of this entity.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="entity.Entity.distance_to">
<code class="descname">distance_to</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/entity.html#Entity.distance_to"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#entity.Entity.distance_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the distance from self to another entity</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#entity.Entity" title="entity.Entity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Entity</span></code></a>) – Entity to which we need to calculate the distance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="entity.Entity.move">
<code class="descname">move</code><span class="sig-paren">(</span><em>dx</em>, <em>dy</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/entity.html#Entity.move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#entity.Entity.move" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves the entity by some amount.</p>
<p>Moves the entity by dx in the x direction and dy in the y direction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dx</strong> (<em>int</em>) – Change in x direction</li>
<li><strong>dy</strong> (<em>int</em>) – Change in y direction</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="entity.Entity.move_astar">
<code class="descname">move_astar</code><span class="sig-paren">(</span><em>target</em>, <em>entities</em>, <em>game_map</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/entity.html#Entity.move_astar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#entity.Entity.move_astar" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses A* algorithmic logic to move towards the target</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>target</strong> (<a class="reference internal" href="#entity.Entity" title="entity.Entity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Entity</span></code></a>) – The target.</li>
<li><strong>entities</strong> (<em>list</em>) – List of entities to move</li>
<li><strong>game_map</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">GameMap</span></code>) – Game Map to apply the algorithm on</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="entity.Entity.move_towards">
<code class="descname">move_towards</code><span class="sig-paren">(</span><em>target_x</em>, <em>target_y</em>, <em>game_map</em>, <em>entities</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/entity.html#Entity.move_towards"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#entity.Entity.move_towards" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the entity-specific AI to move towards a target.</p>
<p>Goes through the entire entity list and asks their AI to make
a move towards a certain target based on its location and the
game map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>target_x</strong> (<em>int</em>) – x-location of target</li>
<li><strong>target_y</strong> (<em>int</em>) – y-location of target</li>
<li><strong>game_map</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">GameMap</span></code>) – Game map to apply the AI on</li>
<li><strong>entities</strong> (<em>list</em>) – List of all entities that need processing.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="entity.get_blocking_entities_at">
<code class="descclassname">entity.</code><code class="descname">get_blocking_entities_at</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>entity_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/entity.html#get_blocking_entities_at"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#entity.get_blocking_entities_at" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if there are any movement-blocking entities at location</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> (<em>int</em>) – x location</li>
<li><strong>y</strong> (<em>int</em>) – y location</li>
<li><strong>entity_list</strong> (<em>list</em>) – list of entities to check</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>The entity class is extremely broad, and used frequently throughout the game. Below are examples of the main use cases.</p>
<p>First, creating and using the player entity.
.. code-block:: python</p>
<blockquote>
<div>fighter_component = Fighter(15, 0, 3)
# player = Entity(…, fighter=fighter_component, …)
entities = [player]</div></blockquote>
<p>The creation of enemies is very similar.</p>
<p>Next, creating items.
.. code-block:: python</p>
<blockquote>
<div>item_component = Item(use_function=item_heal, amount=4)
# item = Entity(…, item=item_component)
entities.append(item)</div></blockquote>
<span class="target" id="module-game_states"></span><dl class="class">
<dt id="game_states.GameStates">
<em class="property">class </em><code class="descclassname">game_states.</code><code class="descname">GameStates</code><a class="reference internal" href="_modules/game_states.html#GameStates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#game_states.GameStates" title="Permalink to this definition">¶</a></dt>
<dd><p>A class that keeps track of the state of the game
This class inherits from Enum. It allows us to keep track of the state the game is in.
This is used to check whose turn it is, whether the player is dead or not,
whether the inventory menu is opened, etc.
This helps us keep track of which inputs are allowed, what their consequences are, and what actions are possible.</p>
</dd></dl>

<p>An example case in which we need to know the game-state follows below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">game_state</span> <span class="o">==</span> <span class="n">GameStates</span><span class="o">.</span><span class="n">PLAYERS_TURN</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">move</span><span class="p">:</span>
        <span class="c1"># Move the player</span>
        <span class="n">game_state</span> <span class="o">=</span> <span class="n">GameStates</span><span class="o">.</span><span class="n">ENEMIES_TURN</span>
</pre></div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">ExsanguinatorRL</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Engine Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="components.html">Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="map_objects.html">Map Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="player_interaction.html">User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="auxiliary_functions.html">Auxiliary Functions</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="tutorial.html" title="previous chapter">Tutorial</a></li>
      <li>Next: <a href="components.html" title="next chapter">Components</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Pim te Rietmole and Mitchell Faas.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/engine.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>